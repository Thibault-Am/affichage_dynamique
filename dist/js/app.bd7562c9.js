(()=>{"use strict";var e={821:(e,t,r)=>{var i=r(963),n=r(252);function s(e,t,r,i,s,o){const d=(0,n.up)("router-view");return(0,n.wg)(),(0,n.j4)(d)}const o={data(){return{isFullscreen:!1}},watch:{$route(){this.verificationToken()}},mounted(){this.verificationToken()},methods:{verificationToken(){this.$route.name,this.$store.state.token||this.$router.push("/TokenSelect")}}};var d=r(744);const a=(0,d.Z)(o,[["render",s]]),c=a;var l=r(119);const u={class:"screens"},h=["innerHTML"],p={class:"close"},m=(0,n._)("i",{class:"fa-solid fa-xmark"},null,-1),v=(0,n._)("i",{class:"fa-solid fa-arrow-rotate-right"},null,-1),_=[v],g=(0,n._)("i",{class:"fa-solid fa-expand"},null,-1),f=[g];function b(e,t,r,i,s,o){const d=(0,n.up)("router-link");return(0,n.wg)(),(0,n.iD)("div",u,[(0,n._)("div",{innerHTML:s.compiled},null,8,h),(0,n._)("div",p,[(0,n._)("div",null,[(0,n.Wm)(d,{to:"/TokenSelect",class:"btn"},{default:(0,n.w5)((()=>[m])),_:1}),(0,n._)("p",{onClick:t[0]||(t[0]=(...e)=>o.loadApi&&o.loadApi(...e)),class:"btn"},_),(0,n._)("p",{onClick:t[1]||(t[1]=(...e)=>o.fullscreen&&o.fullscreen(...e)),class:"btn"},f)])])])}var E=r(441);const w={data(){return{content:[],current:[""],compiled:null,Next:0,Boucle:!1,img_src:""}},mounted(){let e=document.createElement("script");e.setAttribute("src","https://kit.fontawesome.com/c0ee7c1d52.js"),document.head.appendChild(e)},methods:{fullscreen(){document.documentElement.requestFullscreen()},restart(){document.reload()},logout(){this.$router.push("/TokenSelect")},login(){this.axios.patch(`https://api.interdisp.valentinbardet.dev/items/Dispositif/${this.$store.state.token}`,{status:"connecte"})},loadApi(){fetch(`https://api.interdisp.valentinbardet.dev/items/Sequence?filter[Dispositif][_eq]=${this.$store.state.token}`).then((e=>e.json())).then((e=>{e.data.map(((e,t)=>{this.Boucle=e.Boucle,console.log(`Valeur id : .${e.id}`),fetch(`https://api.interdisp.valentinbardet.dev/items/Sequence_Ecrans?filter[Sequence_id][_eq]=${e.id}&fields=Ecrans_id.Nombre_de_colonnes,Ecrans_id.Nombre_de_lignes,Ecrans_id.Nombre_de_colonnes_video,Ecrans_id.Nombre_de_lignes_video,Ecrans_id.Nombre_de_colonnes_image,Ecrans_id.Nombre_de_lignes_image,Ecrans_id.Type,Ecrans_id.FontColor,Ecrans_id.BackgroundColor,Ecrans_id.Markdown,Ecrans_id.Image,Ecrans_id.Video,Ordre,Duree`).then((e=>e.json())).then((e=>{this.content=e.data,this.firstSlide()}))}))}))},nextSlide(){for(var e=0;e<this.content.length;e++)if(this.content[e].Ordre===this.Next){this.current=this.content[e],this.Next=this.Next+1,this.compiled=`<div class="main" style='width:100vw;height:100vh;background-color:${this.current.Ecrans_id.BackgroundColor};color:${this.current.Ecrans_id.FontColor}'>`,"multimedia"==this.current.Ecrans_id.Type?(this.compiled+="<div class='grille'>",null!=this.current.Ecrans_id.Image&&(this.compiled+=`<div id='img' style=' grid-column: span ${this.current.Ecrans_id.Nombre_de_colonnes_image}; grid-raw: span ${this.current.Ecrans_id.Nombre_de_lignes_image}' />\n                <img width='100%'src='https://api.interdisp.valentinbardet.dev/assets/${this.current.Ecrans_id.Image}'/>\n              </div>`),null!=this.current.Ecrans_id.Markdown&&(console.log("test"),this.compiled+=`<section class='texte' style=' grid-column: span ${this.current.Ecrans_id.Nombre_de_colonnes}; grid-raw: span ${this.current.Ecrans_id.Nombre_de_lignes}'>`,this.compiled+=E.TU.parse(this.current.Ecrans_id.Markdown),this.compiled+="</section>"),null!=this.current.Ecrans_id.Video&&(this.compiled+=`  <div style='grid-column: span ${this.current.Ecrans_id.Nombre_de_colonnes_video}; grid-raw: span ${this.current.Ecrans_id.Nombre_de_lignes_video}'>\n                                      <video controls width="100%" autoplay='true'>\n\n                                        <source src='https://api.interdisp.valentinbardet.dev/assets/${this.current.Ecrans_id.Video}>\n\n                                        Sorry, your browser doesn't support embedded videos.\n                                    </video>\n                                  </div>`)):null!=this.current.Ecrans_id.Image?this.compiled+=`<img id='imgFull' src='https://api.interdisp.valentinbardet.dev/assets/${this.current.Ecrans_id.Image}' />`:null!=this.current.Ecrans_id.Markdown?(this.compiled+="<section class='texte'>",this.compiled+=E.TU.parse(this.current.Ecrans_id.Markdown),this.compiled+="</section>"):null!=this.current.Ecrans_id.Video&&(this.compiled+=`\n                                    <video controls width="500" autoplay='true'>\n\n                                      <source src='https://api.interdisp.valentinbardet.dev/assets/${this.current.Ecrans_id.Video}>\n\n                                      Sorry, your browser doesn't support embedded videos.\n                                  </video>`),this.compiled+="</div>",this.Next>this.content.length?1==this.Boucle?setTimeout((()=>{this.firstSlide()}),1e3*this.current.Duree):setTimeout((()=>{this.end()}),1e3*this.current.Duree):setTimeout((()=>{this.nextSlide()}),1e3*this.current.Duree);break}},end(){this.compiled="<div class='fin'>Fin De Sequence</div>"},firstSlide(){this.content.map(((e,t)=>{1===e.Ordre&&(this.current=e,this.Next=2,this.compiled=`<div class="main" style='width:100vw;height:100vh;background-color:${this.current.Ecrans_id.BackgroundColor};color:${this.current.Ecrans_id.FontColor}'>`,"multimedia"==this.current.Ecrans_id.Type?(this.compiled+="<div class='grille'>",null!=this.current.Ecrans_id.Image&&(this.compiled+=`<div id='img' style=' grid-column: span ${this.current.Ecrans_id.Nombre_de_colonnes_image}; grid-raw: span ${this.current.Ecrans_id.Nombre_de_lignes_image}' />\n                <img width='100%'src='https://api.interdisp.valentinbardet.dev/assets/${this.current.Ecrans_id.Image}'/>\n              </div>`),null!=this.current.Ecrans_id.Markdown&&(console.log("test"),this.compiled+=`<section class='texte' style=' grid-column: span ${this.current.Ecrans_id.Nombre_de_colonnes}; grid-raw: span ${this.current.Ecrans_id.Nombre_de_lignes}'>`,this.compiled+=E.TU.parse(this.current.Ecrans_id.Markdown),this.compiled+="</section>"),null!=this.current.Ecrans_id.Video&&(this.compiled+=`  <div style='grid-column: span ${this.current.Ecrans_id.Nombre_de_colonnes_video}; grid-raw: span ${this.current.Ecrans_id.Nombre_de_lignes_video}'>\n                                      <video controls width="100%" autoplay='true'>\n\n                                        <source src='https://api.interdisp.valentinbardet.dev/assets/${this.current.Ecrans_id.Video}>\n\n                                        Sorry, your browser doesn't support embedded videos.\n                                    </video>\n                                  </div>\n                                  `)):null!=this.current.Ecrans_id.Image?this.compiled+=`<div id='imgFull' style='background-position: center;width: 100vw; height: 100vh;background-size: cover;background-image: url(https://api.interdisp.valentinbardet.dev/assets/${this.current.Ecrans_id.Image})' /></div>`:null!=this.current.Ecrans_id.Markdown?(this.compiled+="<section class='texte'>",this.compiled+=E.TU.parse(this.current.Ecrans_id.Markdown),this.compiled+="</section>"):null!=this.current.Ecrans_id.Video&&(this.compiled+=`\n                                      <video controls width="500" autoplay='true'>\n\n                                        <source src='https://api.interdisp.valentinbardet.dev/assets/${this.current.Ecrans_id.Video}>\n\n                                        Sorry, your browser doesn't support embedded videos.\n                                    </video>`)),this.compiled+="</div>",setTimeout((()=>{this.nextSlide()}),1e3*this.current.Duree)}))}},created(){this.loadApi(),this.login()}},y=(0,d.Z)(w,[["render",b]]),k=y,$=[{path:"/",name:"Screens",component:k},{path:"/TokenSelect",name:"TokenSelect",component:function(){return r.e(443).then(r.bind(r,754))}}],S=(0,l.p7)({history:(0,l.PO)("/"),routes:$}),T=S;var N=r(637),x=r(168);new x.ZP({storage:window.localStorage});const C=(0,N.MT)({plugins:[(new x.ZP).plugin],state:{token:""},mutations:{setToken(e,t){e.token=t}},actions:{},modules:{}});var O=r(669),j=r.n(O),M=r(346);(0,i.ri)(c).use(C).use(T).use(M.Z,j()).mount("#app")}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={id:i,loaded:!1,exports:{}};return e[i](s,s.exports,r),s.loaded=!0,s.exports}r.m=e,(()=>{r.amdO={}})(),(()=>{var e=[];r.O=(t,i,n,s)=>{if(!i){var o=1/0;for(l=0;l<e.length;l++){for(var[i,n,s]=e[l],d=!0,a=0;a<i.length;a++)(!1&s||o>=s)&&Object.keys(r.O).every((e=>r.O[e](i[a])))?i.splice(a--,1):(d=!1,s<o&&(o=s));if(d){e.splice(l--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[i,n,s]}})(),(()=>{r.n=e=>{var t=e&&e.__esModule?()=>e["default"]:()=>e;return r.d(t,{a:t}),t}})(),(()=>{r.d=(e,t)=>{for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}})(),(()=>{r.f={},r.e=e=>Promise.all(Object.keys(r.f).reduce(((t,i)=>(r.f[i](e,t),t)),[]))})(),(()=>{r.u=e=>"js/about.895f7ad4.js"})(),(()=>{r.miniCssF=e=>"css/about.bd516f23.css"})(),(()=>{r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()})(),(()=>{r.hmd=e=>(e=Object.create(e),e.children||(e.children=[]),Object.defineProperty(e,"exports",{enumerable:!0,set:()=>{throw new Error("ES Modules may not assign module.exports or exports.*, Use ESM export syntax, instead: "+e.id)}}),e)})(),(()=>{r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t)})(),(()=>{var e={},t="proj:";r.l=(i,n,s,o)=>{if(e[i])e[i].push(n);else{var d,a;if(void 0!==s)for(var c=document.getElementsByTagName("script"),l=0;l<c.length;l++){var u=c[l];if(u.getAttribute("src")==i||u.getAttribute("data-webpack")==t+s){d=u;break}}d||(a=!0,d=document.createElement("script"),d.charset="utf-8",d.timeout=120,r.nc&&d.setAttribute("nonce",r.nc),d.setAttribute("data-webpack",t+s),d.src=i),e[i]=[n];var h=(t,r)=>{d.onerror=d.onload=null,clearTimeout(p);var n=e[i];if(delete e[i],d.parentNode&&d.parentNode.removeChild(d),n&&n.forEach((e=>e(r))),t)return t(r)},p=setTimeout(h.bind(null,void 0,{type:"timeout",target:d}),12e4);d.onerror=h.bind(null,d.onerror),d.onload=h.bind(null,d.onload),a&&document.head.appendChild(d)}}})(),(()=>{r.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}})(),(()=>{r.p="/"})(),(()=>{var e=(e,t,r,i)=>{var n=document.createElement("link");n.rel="stylesheet",n.type="text/css";var s=s=>{if(n.onerror=n.onload=null,"load"===s.type)r();else{var o=s&&("load"===s.type?"missing":s.type),d=s&&s.target&&s.target.href||t,a=new Error("Loading CSS chunk "+e+" failed.\n("+d+")");a.code="CSS_CHUNK_LOAD_FAILED",a.type=o,a.request=d,n.parentNode.removeChild(n),i(a)}};return n.onerror=n.onload=s,n.href=t,document.head.appendChild(n),n},t=(e,t)=>{for(var r=document.getElementsByTagName("link"),i=0;i<r.length;i++){var n=r[i],s=n.getAttribute("data-href")||n.getAttribute("href");if("stylesheet"===n.rel&&(s===e||s===t))return n}var o=document.getElementsByTagName("style");for(i=0;i<o.length;i++){n=o[i],s=n.getAttribute("data-href");if(s===e||s===t)return n}},i=i=>new Promise(((n,s)=>{var o=r.miniCssF(i),d=r.p+o;if(t(o,d))return n();e(i,d,n,s)})),n={143:0};r.f.miniCss=(e,t)=>{var r={443:1};n[e]?t.push(n[e]):0!==n[e]&&r[e]&&t.push(n[e]=i(e).then((()=>{n[e]=0}),(t=>{throw delete n[e],t})))}})(),(()=>{var e={143:0};r.f.j=(t,i)=>{var n=r.o(e,t)?e[t]:void 0;if(0!==n)if(n)i.push(n[2]);else{var s=new Promise(((r,i)=>n=e[t]=[r,i]));i.push(n[2]=s);var o=r.p+r.u(t),d=new Error,a=i=>{if(r.o(e,t)&&(n=e[t],0!==n&&(e[t]=void 0),n)){var s=i&&("load"===i.type?"missing":i.type),o=i&&i.target&&i.target.src;d.message="Loading chunk "+t+" failed.\n("+s+": "+o+")",d.name="ChunkLoadError",d.type=s,d.request=o,n[1](d)}};r.l(o,a,"chunk-"+t,t)}},r.O.j=t=>0===e[t];var t=(t,i)=>{var n,s,[o,d,a]=i,c=0;if(o.some((t=>0!==e[t]))){for(n in d)r.o(d,n)&&(r.m[n]=d[n]);if(a)var l=a(r)}for(t&&t(i);c<o.length;c++)s=o[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(l)},i=self["webpackChunkproj"]=self["webpackChunkproj"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))})();var i=r.O(void 0,[998],(()=>r(821)));i=r.O(i)})();
//# sourceMappingURL=app.bd7562c9.js.map